#!/usr/bin/env php
<?php

require __DIR__ . '/../../../autoload.php';
require __DIR__ . '/../src/Tools/functions.php';

use Aventus\Transpiler\Parser\Parser;
use Aventus\Transpiler\Writer\FileToWrite;

$path = getcwd();
if (count($argv) >= 2) {
    $path = $argv[1];
}
try {
    $parser = new Parser($path);
    $parser->parse();
    FileToWrite::writeAll();
} catch (Exception $e) {
    error($e->getMessage());
}
